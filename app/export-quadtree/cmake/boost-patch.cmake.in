# Patch to modify boosts' bootstrap.sh
# Requires:
# _SOURCE_DIR - path to the CMakeLists.txt file to patch

set(_SOURCE_DIR @_SOURCE_DIR@)

set(_TARGET "${_SOURCE_DIR}/bootstrap.sh")
if(NOT EXISTS ${_TARGET})
  message( FATAL_ERROR "Cannot find ${_TARGET}" )
endif()

file(READ "${_TARGET}" _DATA)
string(REGEX REPLACE my_dir=\".\" my_dir=\"${_SOURCE_DIR}\" _DATA "${_DATA}")

file( WRITE "${_TARGET}" "${_DATA}" )